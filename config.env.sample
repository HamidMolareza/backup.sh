###############################################################################
# Paths & filenames
###############################################################################
# Use SCRIPT_DIR from the driver
OUTPUT_DIR="${SCRIPT_DIR}/output"
LOG_DIR="${SCRIPT_DIR}/logs"
TASKS_DIR="${SCRIPT_DIR}/tasks.d"
INCLUDE_FILE="${SCRIPT_DIR}/include.txt"
EXCLUDE_FILE="${SCRIPT_DIR}/exclude.txt"

# Archive naming
ARCHIVE_PREFIX="system-backup"   # base name
TAG=""                           # optional suffix e.g. "weekly" -> file has --weekly
STAGING_PREFIX="__backup_extras" # where task outputs live inside the archive

###############################################################################
# Compression / Encryption
###############################################################################
COMPRESS="zstd"      # zstd|xz|gz|none
ENCRYPTION="gpg"     # gpg|none
GPG_RECIPIENT="you@example.com"  # required if ENCRYPTION=gpg

###############################################################################
# Integrity & retention
###############################################################################
VERIFY=1             # 1 = list archive after creation to verify stream integrity
HASH_ALGO="sha256"   # sha256|sha512|none -> writes a sidecar checksum file
RETENTION=7          # keep N most recent archives with this ARCHIVE_PREFIX (0 = no prune)

###############################################################################
# Tar behavior
###############################################################################
ONE_FS=1             # tar --one-file-system (stay on same filesystem)
EXCLUDE_CACHES=1     # tar --exclude-caches-all --exclude-backups
SPARSE=1             # tar --sparse (good for VM images, databases with holes)

###############################################################################
# Execution & logging
###############################################################################
LOG_LEVEL="INFO"     # INFO|DEBUG
STREAM_TASK_LOGS=1   # 1 = mirror task output to console (and to log file)
NON_INTERACTIVE=1    # 1 = assume "yes" (good for cron)
LOCK_FILE="${SCRIPT_DIR}/.backup.lock"
TMPDIR_PARENT="$OUTPUT_DIR"  # parent dir for working .work.* folders

###############################################################################
# Restore defaults
###############################################################################
KEEP_OLD_FILES=1     # tar --keep-old-files (idempotent; use --overwrite to replace)
# OVERWRITE is normally set via CLI; set here to force: 1 = overwrite on backup/restore
# OVERWRITE=0

###############################################################################
# Notes
###############################################################################
# - Any of these can be overridden by CLI flags, e.g.:
#     ./script.sh backup --compress xz --verify --retention 14 --tag weekly
# - Include/Exclude lists expand env vars; use quotes if paths have spaces.
# - For cron, keep NON_INTERACTIVE=1 and STREAM_TASK_LOGS=1 for live output.
